--지난 내용
DML (데이터 조작어)

- 조회
SELECT 
FROM
WHERE
GROUP BY
HAVING
ORDER BY

- 삽입
INSERT INTO 테이블 VALUES (v1, v2 ...)

- 변경 
UPDATE 테이블
SET 컬럼 = '값'
WHERE 컬럼 = '조건값'

- 삭제 
DELETE FROM 테이블
WHERE 컬럼 = '조건값'


트랜잭션의 CRUD 연산 (CREATE, READ, UPDATE, DELETE)   




COMMIT
ROLLBACK

- TRANSECTION (트랜잭션)
INSERT(/UPDATE/DELETE);
COMMIT/ROLLBACK;


- SESSION (세션)
세션이 연결됨 SQLPLUS/SQL DEVELOPER - 유저/패스워드 (ip, port)
세션이 끊김


- LOCK (잠김)
USER1:
INSERT INTO EMP;
UPDATE EMP SET DEPTNO=10;
DELECT FROM EMP;
...
COMMIT

USER2:
INSERT INTO EMP;
UPDATE EMP SET DEPTNO=10;
DELECT FROM EMP;

--COMMIT 하면 다른 사용자도 사용 가능




-- 실습 11-1
DROP TABLE DEPT_TCL;
CREATE TABLE DEPT_TCL
    AS SELECT *
         FROM DEPT;

SELECT * FROM DEPT_TCL;

-- 실습 11-2
INSERT INTO DEPT_TCL VALUES(50, 'DATABASE', 'SEOUL');

UPDATE DEPT_TCL SET LOC = 'BUSAN' WHERE DEPTNO = 40;

DELETE FROM DEPT_TCL WHERE DNAME = 'RESEARCH';

SELECT * FROM DEPT_TCL;

-- 실습 11-3
ROLLBACK;

SELECT * FROM DEPT_TCL;

-- 실습 11-4
INSERT INTO DEPT_TCL VALUES(50, 'NETWORK', 'SEOUL');

UPDATE DEPT_TCL SET LOC = 'BUSAN' WHERE DEPTNO = 20;

DELETE FROM DEPT_TCL WHERE DEPTNO = 40;

SELECT * FROM DEPT_TCL;

-- 실습 11-5
COMMIT;

-- 실습 11-6
SELECT * FROM DEPT_TCL;

SELECT * FROM DEPT_TCL;

-- 실습 11-7
DELETE FROM DEPT_TCL
 WHERE DEPTNO = 50;

rollback;
SELECT * FROM DEPT_TCL;

SELECT * FROM DEPT_TCL;

-- 실습 11-8
COMMIT;

SELECT * FROM DEPT_TCL;

SELECT * FROM DEPT_TCL;

-- 실습 11-9
SELECT * FROM DEPT_TCL;

SELECT * FROM DEPT_TCL;

-- 실습 11-10
UPDATE DEPT_TCL SET LOC='SEOUL'
 WHERE DEPTNO = 30;

SELECT * FROM DEPT_TCL;

SELECT * FROM DEPT_TCL;

-- 실습 11-11
UPDATE DEPT_TCL SET DNAME='DATABASE'
 WHERE DEPTNO = 30;

-- 실습 11-12
COMMIT;

SELECT * FROM EMP_TEMP;

-- 실습 11-13
SELECT * FROM DEPT_TCL;

SELECT * FROM DEPT_TCL;

-- 실습 11-14
COMMIT;

-- 실습 11-15
SELECT * FROM DEPT_TCL;





--Q1-1)
SELECT * FROM DEPT;

1. DATABASE  2. SEOUL
3. SALES  4. CHICAGO


--2)
실행되지 않는다.


--3)
UPDATE문이 실행된다.


--4)
1. SALES  2. CHICAGO
3. DATABASE  4. SEOUL


--5)
1. SALES  2. CHICAGO
3. DATABASE  4. SEOUL